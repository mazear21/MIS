{% extends 'base.html' %} {% block title %}Teacher Dashboard - MIS System{% endblock %} {% block
content %}
<div class="container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="row align-items-center">
      <div class="col">
        <h2><i class="bi bi-grid-1x2 me-2"></i>Teacher Dashboard</h2>
        <p>Welcome back, {{ teacher.full_name }}!</p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <h5 class="section-header"><i class="bi bi-lightning-charge me-2"></i>Quick Actions</h5>
  <div class="row mb-4">
    <div class="col-md-3 col-sm-6 mb-3">
      <a href="{{ url_for('teacher_attendance') }}" class="quick-action-card">
        <i class="bi bi-calendar-check"></i>
        <h5>Take Attendance</h5>
        <p>Record daily attendance</p>
      </a>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <a href="{{ url_for('teacher_grades') }}" class="quick-action-card">
        <i class="bi bi-clipboard-data"></i>
        <h5>Manage Grades</h5>
        <p>Add quiz/exam grades</p>
      </a>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <a href="{{ url_for('teacher_homework') }}" class="quick-action-card">
        <i class="bi bi-journal-text"></i>
        <h5>Assign Homework</h5>
        <p>Create assignments</p>
      </a>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <a href="{{ url_for('teacher_topics') }}" class="quick-action-card">
        <i class="bi bi-list-task"></i>
        <h5>Weekly Topics</h5>
        <p>Track syllabus progress</p>
      </a>
    </div>
  </div>

  <div class="row">
    <!-- My Subjects -->
    <div class="col-md-6 mb-4">
      <div class="card h-100">
        <div class="card-header"><i class="bi bi-journal-bookmark me-2"></i>My Subjects</div>
        <div class="card-body">
          {% if subjects %}
          <ul class="list-group list-group-flush">
            {% for subject in subjects %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ subject.name }}</strong>
                <br /><small class="text-muted">{{ subject.class_name }}</small>
              </div>
              <span class="badge bg-navy">Active</span>
            </li>
            {% endfor %}
          </ul>
          {% else %}
          <p class="text-muted text-center py-3">No subjects assigned yet.</p>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Recent Homework -->
    <div class="col-md-6 mb-4">
      <div class="card h-100">
        <div class="card-header"><i class="bi bi-journal-text me-2"></i>Recent Homework</div>
        <div class="card-body">
          {% if homework %}
          <ul class="list-group list-group-flush">
            {% for hw in homework[:5] %}
            <li class="list-group-item">
              <strong>{{ hw.title }}</strong>
              <br />
              <small class="text-muted">
                {{ hw.subject_name }} - {{ hw.class_name }}
                <br />Due: {{ hw.due_date }}
              </small>
            </li>
            {% endfor %}
          </ul>
          {% else %}
          <p class="text-muted text-center py-3">No homework created yet.</p>
          {% endif %}
        </div>
        <div class="card-footer">
          <a href="{{ url_for('teacher_homework') }}" class="btn btn-sm btn-outline-primary"
            >View All</a
          >
        </div>
      </div>
    </div>
  </div>

  <!-- My Schedule -->
  <div class="card mb-4">
    <div class="card-header"><i class="bi bi-calendar3 me-2"></i>My Schedule</div>
    <div class="card-body">
      {% if timetable %}
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Day</th>
              <th>Time</th>
              <th>Subject</th>
              <th>Semester</th>
              <th>Room</th>
            </tr>
          </thead>
          <tbody>
            {% for entry in timetable %}
            <tr>
              <td><strong>{{ entry.day_of_week }}</strong></td>
              <td>{{ entry.start_time }} - {{ entry.end_time }}</td>
              <td>{{ entry.subject_name }}</td>
              <td><span class="badge bg-navy">{{ entry.class_name }}</span></td>
              <td>{{ entry.room or '-' }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <p class="text-muted text-center py-3">No schedule available.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
